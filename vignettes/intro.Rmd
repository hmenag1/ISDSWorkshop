---
title: "Introduction to R"
author: "Jarad Niemi"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
  pdf_document:
    toc: true
vignette: >
  %\VignetteIndexEntry{Introduction to R}
  %\VignetteEngine{knitr::rmarkdown}
---


# Introduction to R

## Detailed introduction

For an extremely detailed introduction, please see

```{r, eval=FALSE}
help.start()
```

In this documentation, the above command will be executed at the command prompt, see below. 


## R interface

In contrast to many other statistical software packages that use a point-and-click interface, e.g. SPSS, JMP, Stata, etc, R has a command-line interface. The command line has a command prompt, e.g. `>`, see below.

```{r, eval=FALSE}
>
```

This means, that you will be entering commands on this command line and hitting enter to execute them, e.g. 

```{r, eval=FALSE}
help()
```

Use the **up arrow** to recover past commands.

```{r, eval=FALSE}
hepl()
help() # Use up arrow and fix
```


## R GUI (or [RStudio](http://www.rstudio.com/))

Most likely, you are using a graphical user interface (GUI) and therefore, in addition, to the command line, you also have a windowed version of R with some point-and-click options, e.g. File, Edit, and Help.

In particular, there is an editor to create a new R script. So rather than entering commands on the command line, you will write commands in the script and then send those commands to the command line using `Ctrl-R` (PC) or `Command-Enter` (Mac).

```{r}
a = 1 
b = 2
a+b
```

Multiple lines can be run in sequence by selecting them and then using `Ctrl-R` (PC) or `Command-Enter` (Mac).




## Intro Activity

One of the most effective ways to use this documentation is to cut-and-paste the commands into a script and then execute them. 

Cut-and-paste the following commands into a **new script** and then run those commands directly from the script using `Ctrl-R` (PC) or `Command-Enter` (Mac).

```{r}
x = 1:10
y = rep(c(1,2), each=5)
m = lm(y~x)
s = summary(m)
```

Now, look at the result of each line

```{r, eval=FALSE}
x
y
m
s
s$r.squared
```

When you have completed the activity, compare your results to the [solutions](intro-solution.html#Introduction).





# Using R as a calculator

## Basic calculator operations

All basic calculator operations can be performed in R. 

```{r}
1+2
1-2
1/2
1*2
```



## Advanced calculator operations

Many advanced calculator operations are also available.

```{r}
(1+3)*2+100^2 # standard order of operations
sin(2*pi)
sqrt(4)
10^2
log(10)
log(10,base=10)
```



## Using variables

A real advantage to using R rather than a calculator (or calculator app) is the ability to store quantities using variables.

```{r}
a = 1
b = 2
a+b
a-b
a/b
a*b
```



## Using informative variable names

While using variables alone is useful, it is much more useful to use informative variables names.

```{r}
population = 1000
number_infected = 200
deaths = 3

death_rate = deaths / number_infected
attack_rate = number_infected / population

death_rate
attack_rate
```



## Calculator Activity

### [Bayes' Rule](http://en.wikipedia.org/wiki/Bayes%27_theorem)

Suppose an individual tests positive for a disease, what is the probability the individual has the disease? Let 

- $D$ indicates the individual has the disease
- $N$ means the individual does not have the disease
- $+$ indicates a positive test result
- $-$ indicates a negative test 

The above probability can be calculated using [Bayes' Rule](http://en.wikipedia.org/wiki/Bayes%27_rule):

\[ P(D|+) = \frac{P(+|D)P(D)}{P(+|D)P(D)+P(+|N)P(N)} = \frac{P(+|D)P(D)}{P(+|D)P(D)+(1-P(-|N))\times(1-P(D))} \]

where

- $P(+|D)$ is the [sensitivity](http://en.wikipedia.org/wiki/Sensitivity_and_specificity) of the test
- $P(-|N)$ is the [specificity](http://en.wikipedia.org/wiki/Sensitivity_and_specificity) of the test
- $P(D)$ is the [prevalence](http://en.wikipedia.org/wiki/Prevalence) of the disease

Calculate the probability the individual has the disease if the test is positive when

- the specificity of the test is 0.99, 
- the sensistivity of the test is 0.95, and
- the prevalence of the disease is 0.001.


When you have completed the activity, compare your results to the [solutions](intro-solution.html#calculator).




